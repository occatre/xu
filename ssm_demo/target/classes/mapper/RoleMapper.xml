<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nov.dao.RoleDao">
	<resultMap type="com.nov.entity.Role" id="">
		<id column="role_id" property="roleId"></id>
		<result column="role_name" property="roleName"/>
		<result column="remark" property="remark"/>
		<result column="delete_flag" property="deleteFlag"/>
		<result column="create_by" property="createBy"/>
		<result column="create_time" property="createTime"/>
		<result column="update_by" property="updateBy"/>
		<result column="update_time" property="udpateTime"/>
	</resultMap>
	<select id="getRole">
		SELECT * FROM (SELECT * FROM sys_user a LEFT JOIN sys_user_role b ON a.user_id = b.user_id) r
		 LEFT JOIN sys_role c WHERE r.role_id = c.role_id  where a.username = #{username}
	</select>
</mapper>